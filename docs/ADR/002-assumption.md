# ADR 002 — соглашения о форматах API

Дата: 2025-11-18

## Контекст

Спецификация упоминает требование «Ник нарушителя вводится вручную» для UI, но ранее обсуждались боты/интеграции без явных форматов идентификаторов. Чтобы API работал детерминированно, нужно зафиксировать идентификаторы и форму длительности наказаний.

## Предположения

1. **Внутренний API использует ID.** Эндпоинт `/api/social/v1/court/cases` принимает `subject_id` (число). В интерфейсе судьи поле с ником сохраняется, но интеграции отправляют стабильные ID, полученные из других API.
2. **Строки длительности.** API и формы принимают целые минуты и шорткаты `3h`, `30d`, `6m` (часы/дни/месяцы). `0` зарезервирован для отмены, отрицательные значения запрещены.
3. **Указание исполнителя.** Боты передают `executor` из множества `site|discord|minecraft`, чтобы слушатели понимали, из какого канала пришло решение.

Любое изменение идентификаторов или грамматики длительности требует обновить эту ADR и слой валидации.
